# 面经

## 讲一下vue和react的diff算法，有什么区别

vue和react的diff算法都是优化过的diff算法,而且有着相同的优化点,就是同级比较,不做跨级比较。也就是说只比较同层的节点，不同层不做比较。不同层的只需要删除原节点，并且新建插入更新节点。

如果两个节点的key相同，那么就比较两个节点的值，如果值相同，那么就不做操作，如果值不相同，那么就更新节点的值。如果两个节点的key不相同，那么就删除原节点，并且新建插入更新节点。

1. vue的diff算法的原理
vue的diff算法是父子兄弟组件互不干扰
vue的diff算法的比较规则:新旧列表的两端对比
vue的diff算法的移动规则:不同情况的移动规则不同

2. react的diff算法
react的diff算法对父子兄弟组件的影响；当更新父组件state中的数据时,父组件以及子组件和所有的子孙组件都会被更新,这个可以通过shouldComponentUpdate来优化解决
react采用的是比较vue而言更加简洁的对比方式,就是同级遍历,拿着新节点列表的节点一个个与旧节点列表做遍历对比,当对比成功的时候,就把旧节点插入到真实dom中当前新节点位置对应的真实dom的前边,若是没有找到对应的,就要在新节点所对应的真实dom的地方插入一个节点
react的diff算法的弊端:当首位新节点与末尾老节点相对应的时候,就会导致多个节点进行移位,结果是相同的,但是中间的比较计算以及操作时不友好的

### 比较

1. vue和react的diff算法，都是忽略跨级比较，只做同级比较。vue diff时调动patch函数，参数是vnode和oldVnode，分别代表新旧节点。
2. vue对比节点。当节点元素相同，但是classname不同，认为是不同类型的元素，删除重建，而react认为是同类型节点，只是修改节点属性。
3. vue的列表对比，采用的是两端到中间比对的方式，而react采用的是从左到右依次对比的方式。当一个集合只是把最后一个节点移到了第一个，react会把前面的节点依次移动，而vue只会把最后一个节点移到第一个

## diff算法的key有什么作用，举例说明一下

Q:vue的diff算法的key有什么作用，举例说明一下
A:vue的diff算法的key有什么作用，举例说明一下

1. 当key相同的时候，就不用比较了，直接更新节点的值。
2. 当key不相同的时候，就要把原节点删除，并且新建插入更新节点。

## 使用index作为key可能会应发的问题?

如果对数据进行逆序添加、删除等破坏顺序操作，会产生没有必要的真实DOM更新，页面效果没有问题，但是效率低下。

## 本地化存储有哪些方式

参考/其他/前端存储.md

## 对hooks的理解

Hook 是 React 16.8 的新增特性。它可以让你在不编写 class 的情况下使用 state 以及其他的 React 特性

## 自己写过hooks吗？
